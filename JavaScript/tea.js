const vegetables = [
    {
      off: "33%",
      img: "https://www.bigbasket.com/media/uploads/p/m/40276397_2-indisecrets-assorted-tulsi-infusions-with-4-exotic-flavours-sampler-pack.jpg?tr=w-1920,q=80",
      name: "indiSecret",
      beforePrice: 100,
      price: 56,
      delivery: "Free",
      quantity: 1,
    },
    {
      off: "15%",
      img: "https://www.bigbasket.com/media/uploads/p/m/1204482_1-red-label-tea.jpg?tr=w-1920,q=80",
      name: "Red Label",
      beforePrice: 120,
      price: 89,
      delivery: "Free",
      quantity:8.5,
    },
    {
      off: "18%",
      img: "https://www.bigbasket.com/media/uploads/p/m/40270718_1-emperia-green-tea-sampler-with-plain-tulsi-lemon-honey.jpg?tr=w-1920,q=80",
      name: "Emperia",
      beforePrice: 98,
      price: 79,
      delivery: "Free",
      quantity: 1,
    },
    {
      off: "22%",
      img: "https://www.bigbasket.com/media/uploads/p/m/1204491_1-taj-mahal-tea.jpg?tr=w-1920,q=80",
      name: "Taj Mahal",
      beforePrice: 130,
      price: 99,
      delivery: "Free",
      quantity: 1,
    },
    {
      off: "12%",
      img: "https://www.bigbasket.com/media/uploads/p/m/1204531_2-tata-tea-gold-leaf-tea.jpg?tr=w-1920,q=80",
      name: "Tata Tea Gold",
      beforePrice: 50,
      price: 29,
      delivery: "Free",
      quantity: 1,
    },
    {
      off: "35%",
      img: "https://www.bigbasket.com/media/uploads/p/m/40128174_8-emperia-premium-tea-with-20-extra-long-leaf.jpg?tr=w-1920,q=80",
      name: "emperia",
      beforePrice: 103,
      price: 79,
      delivery: "Free",
      quantity: 1,
    },
    {
      off: "23%",
      img: "https://www.bigbasket.com/media/uploads/p/m/264437_2-tata-tea-kanan-devan-tea.jpg?tr=w-1920,q=80",
      name: "Tata Tea Kanan Devan Tea",
      beforePrice: 140,
      price: 99,
      delivery: "Free",
      quantity: 1,
    },
    {
      off: "24%",
      img: "https://www.bigbasket.com/media/uploads/p/m/262810_24-lipton-darjeeling-tea.jpg?tr=w-1920,q=80",
      name: "lipton darjeeling tea",
      beforePrice: 107,
      price: 89,
      delivery: "Free",
      quantity: 1,
    },
    {
      off: "34%",
      img: "https://www.bigbasket.com/media/uploads/p/m/40128171_9-emperia-kadak-tea.jpg?tr=w-1920,q=80",
      name: "emperia-kadak",
      beforePrice: 50,
      price: 200,
      delivery: "Free",
      quantity: 1,
    },
    {
      off: "22%",
      img: "https://www.bigbasket.com/media/uploads/p/m/1204528_1-lipton-green-tea-honey-lemon.jpg?tr=w-1920,q=80",
      name: "lipton-green-tea",
      beforePrice: 250,
      price: 500,
      delivery: "Free",
      quantity: 1,
    },
    {
      off: "12%",
      img: "https://www.bigbasket.com/media/uploads/p/m/1206485_1-tetley-green-tea-ginger-mint-lemon.jpg?tr=w-1920,q=80",
      name: "tetley-green-tea",
      beforePrice: 89,
      price: 510,
      delivery: "Free",
      quantity: 1,
    },
    {
      off: "23%",
      img: "https://www.bigbasket.com/media/uploads/p/m/20005450_4-organic-india-organic-tulsi-green-tea-lemon-ginger-stress-relieving.jpg?tr=w-1920,q=80",
      name: "organic-tulsi-green-tea",
      beforePrice: 143,
      price: 210,
      delivery: "Free",
      quantity: 1,
    },
    {
      off: "45%",
      img: "https://www.bigbasket.com/media/uploads/p/m/40120805_1-girnar-green-tea-detox-desi-kahwa.jpg?tr=w-1920,q=80",
      name: "Girnar Green Tea",
      beforePrice: 106,
      price: 199,
      delivery: "Free",
      quantity: 0,
    },
    {
      off: "20%",
      img: "https://www.bigbasket.com/media/uploads/p/m/40120792_1-girnar-instant-tea-premix-with-ginger.jpg?tr=w-1080,q=80",
      name: "Girnar Instant Tea",
      beforePrice: 98,
      price: 149,
      delivery: "Free",
      quantity: 0,
    },
    {
      off: "24%",
      img: "https://www.bigbasket.com/media/uploads/p/m/40176777_11-tetley-long-leaf-green-tea-lemon.jpg?tr=w-1080,q=80",
      name: "Tetley Long Leaf Green Tea",
      beforePrice: 104,
      price: 179,
      delivery: "Free",
      quantity: 1,
    },
    {
      off: "26%",
      img: "https://www.bigbasket.com/media/uploads/p/m/40006681_3-typhoo-english-breakfast-tea.jpg?tr=w-1080,q=80",
      name: "Typhoo English Breakfast Tea",
      beforePrice: 100,
      price: 279,
      delivery: "Free",
      quantity: 1,
    },
    {
      off: "28%",
      img: "https://www.bigbasket.com/media/uploads/p/m/100440682_7-taj-mahal-rich-masala-tea.jpg?tr=w-1080,q=80",
      name: "aj Mahal Rich Masala Tea,",
      beforePrice: 80,
      price: 149,
      delivery: "Free",
      quantity: 1,
    },
    {
      off: "20%",
      img: "https://www.bigbasket.com/media/uploads/p/m/263380_4-organic-india-tea-infusion-the-original-tulsi-ginger.jpg?tr=w-1080,q=80",
      name: "Organic India Tea - Tulsi & Ginger",
      beforePrice: 97,
      price: 259,
      delivery: "Free",
      quantity: 1,
    },
    {
      off: "27%",
      img: "https://www.bigbasket.com/media/uploads/p/m/40012637_11-lipton-green-tea-pure-light.jpg?tr=w-1080,q=80",
      name: "Lipton Green Tea - Clear & Lightr",
      beforePrice: 89,
      price: 475,
      delivery: "Free",
      quantity: 1,
    },
    {
      off: "34%",
      img: "https://www.bigbasket.com/media/uploads/p/m/147737_4-twinings-earl-grey-tea.jpg?tr=w-1080,q=80",
      name: "Twinings Earl Grey Tea",
      beforePrice: 108,
      price: 289,
      delivery: "Free",
      quantity: 1,
    },
  ];
  
  //catching the soring part.
  let sorting = document.querySelector("#filters");
  var tempVegi = vegetables;
  sorting.addEventListener("change", function () {
    let value = this.value;
    if (value == "Select") {
      var container = (document.querySelector("#Vegitables").innerHTML = "");
      console.log(vegetables);
      display(vegetables);
    } else if (value == "low-to-high") {
      tempVegi.sort(function (a, b) {
        return a.price - b.price;
      });
      var container = (document.querySelector("#Vegitables").innerHTML = "");
      display(tempVegi);
    } else if (value == "high-to-low") {
      tempVegi.sort(function (a, b) {
        return b.price - a.price;
      });
      document.querySelector("#Vegitables").innerHTML = "";
      display(tempVegi);
    } else if ((value = "Alphabetical")) {
      tempVegi.sort(function (a, b) {
        const nameA = a.name.toUpperCase();
        const nameB = b.name.toUpperCase();
  
        if (nameA < nameB) {
          return -1;
        }
        if (nameA > nameB) {
          return 1;
        }
        return 0; //
      });
      document.querySelector("#Vegitables").innerHTML = "";
      display(tempVegi);
    }
  });
  
  //Functions For Filter.
  let checkBoxes = document.querySelectorAll('input[type="checkbox"]');
  
  checkBoxes.forEach((element) => {
    element.addEventListener("change", function () {
      if (element.checked) {
        if (element.value == "less-20") {
          const lesstwenty = vegetables.filter(function (element) {
            element.price < 20;
          });
          document.querySelector("#Vegitables").innerHTML = "";
          display(lesstwenty);
        } else if (element.value == "price-20-50") {
          const price20to50 = vegetables.filter(function (element) {
            return element.price >= 20 && element.price <= 50;
          });
          document.querySelector("#Vegitables").innerHTML = "";
          display(price20to50);
        } else if (element.value == "price-51-100") {
          const price51to100 = vegetables.filter(function (element) {
            return element.price >= 51 && element.price <= 100;
          });
          document.querySelector("#Vegitables").innerHTML = "";
          display(price51to100);
        } else if (element.value == "price-101-200") {
          const price101to200 = vegetables.filter(function (element) {
            return element.price >= 101 && element.price <= 200;
          });
          document.querySelector("#Vegitables").innerHTML = "";
          if (price101to200.length > 0) {
            display(price101to200);
          }
        }
      } else {
        document.querySelector("#Vegitables").innerHTML = "";
        display(vegetables);
      }
    });
  });
  
  display(vegetables);
  
  function display(array) {
    //Catching the element.Vegitables
    var container = document.querySelector("#Vegitables");
    let data = JSON.parse(localStorage.getItem("data")) ?? [];
  
    let total = JSON.parse(localStorage.getItem("total")) ?? [];
    let totalCost = total[0] || 0;
    let totalQuantity = total[1] || 0;
    array.forEach((element) => {
      var cards = document.createElement("div");
  
      cards.className = "cards"; //Give class to the cards element.
  
      var off = document.createElement("p");
      off.className = "discount"; //assigining class to discount section.
  
      var image = document.createElement("img");
      image.src = element.img;
      image.classList = "vegitablesImage";
  
      var name = document.createElement("p");
      name.className = "VegiName"; //assigning class to name of the vegetable.
  
      var inputPrice = document.createElement("input");
      inputPrice.placeholder = `1 Kg - Rs ${element.price}.00`;
      inputPrice.className = "selectInput";
  
      var allDetails = document.createElement("div");
      allDetails.className = "Details"; //Given class to details having deliver , price , quntaty and all.
      var newContainer = document.createElement("div");
      //For price.
      var mrp = document.createElement("span");
      var previousPrice = document.createElement("span");
      previousPrice.className = "prevPrice"; //Class to previous price.
      var currentPrice = document.createElement("span");
      currentPrice.className = "currPrice";
  
      //Deleviry :-
      var deleviry = document.createElement("div");
  
      deleviry.className = "delivery";
      var deleviryImg = document.createElement("img");
      //   deleviryImg.style.width='100%';
      deleviryImg.src =
        "https://w7.pngwing.com/pngs/558/519/png-transparent-computer-icons-delivery-symbol-symbol-miscellaneous-angle-text.png";
      var deleviryCont = document.createElement("span");
  
      name.innerText = element.name;
      //Add and quantity buttons :-
      var quantityContainer = document.createElement("div");
      var quantity = document.createElement("span");
  
      var inputQuantity = document.createElement("input");
      console.log(inputQuantity.value);
      inputQuantity.className = "InputQuan";
      inputQuantity.type = "number";
      var Addbtn = document.createElement("button");
      Addbtn.style.padding = "2px";
      Addbtn.style.margin = "4px";
  
      //Assigning the values
      off.innerText = `GET ${element.off} OFF`;
      mrp.innerText = "MRP";
      previousPrice.innerText = `RS ${element.beforePrice}`;
      currentPrice.innerText = `Rs ${element.price}`;
      deleviryCont.innerText = `Standard Delivery : ${element.delivery}`;
      quantity.innerText = "Qty";
      inputQuantity.innerText = 1;
      Addbtn.innerText = "Add 🛒";
      Addbtn.style.cursor = "pointer";
  
      //put values in local storage.
      Addbtn.addEventListener("click", () => {
        let data = JSON.parse(localStorage.getItem("data")) ?? [];
        data.push(element);
        totalCost += element.price;
        totalQuantity += 1;
        total[0] = totalCost;
        total[1] = totalQuantity;
        let cartItemsSpans = document.getElementsByClassName("cart-items");
        for (let ci of cartItemsSpans){
          ci.innerText = totalQuantity;
        }
        localStorage.setItem("total", JSON.stringify(total));
        localStorage.setItem("data", JSON.stringify(data));
      });
  
      //append the values to the containers.
      quantityContainer.append(quantity, inputQuantity, Addbtn);
      deleviry.append(deleviryImg, deleviryCont);
      newContainer.append(mrp, previousPrice, currentPrice);
      allDetails.append(newContainer, deleviry, quantityContainer);
      cards.append(
        off,
        image,
        name,
  
        inputPrice,
        // newContainer,
        // deleviry,
        allDetails
        // quantityContainer
      );
  
      container.appendChild(cards);
    });
  }
  